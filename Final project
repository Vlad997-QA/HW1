import json
import os

class PersonalAssistant:
    def __init__(self, filename='data.json'):
        self.filename = filename
        self.address_book = {}
        self.load_data()

    def load_data(self):
        if os.path.exists(self.filename):
            with open(self.filename, 'r') as file:
                data = json.load(file)
                self.address_book = data.get('address_book', {})

    def save_data(self):
        with open(self.filename, 'w') as file:
            json.dump({'address_book': self.address_book}, file)

    def add_contact(self, name, phone, email):
        self.address_book[name] = {'phone': phone, 'email': email}
        self.save_data()
        print(f"Contact {name} added.")

    def update_contact(self, name, phone=None, email=None):
        if name in self.address_book:
            if phone:
                self.address_book[name]['phone'] = phone
            if email:
                self.address_book[name]['email'] = email
            self.save_data()
            print(f"Contact {name} updated.")
        else:
            print(f"Contact {name} not found.")

    def delete_contact(self, name):
        if name in self.address_book:
            del self.address_book[name]
            self.save_data()
            print(f"Contact {name} deleted.")
        else:
            print(f"Contact {name} not found.")

    def view_contacts(self):
        if not self.address_book:
            print("Address book is empty.")
        else:
            for name, details in self.address_book.items():
                print(f"Name: {name}, Phone: {details['phone']}, Email: {details['email']}")

    def add_note(self, note):
        with open('notes.txt', 'a') as notes_file:
            notes_file.write(note + "\n")
        print("Note added.")

    def view_notes(self):
        if os.path.exists('notes.txt'):
            with open('notes.txt', 'r') as notes_file:
                notes = notes_file.readlines()
                if notes:
                    print("Notes:")
                    for note in notes:
                        print(note.strip())
                else:
                    print("No notes available.")
        else:
            print("No notes available.")

def main():
    assistant = PersonalAssistant()
    while True:
        print("\nPersonal Assistant Menu:")
        print("1. Add Contact")
        print("2. Update Contact")
        print("3. Delete Contact")
        print("4. View Contacts")
        print("5. Add Note")
        print("6. View Notes")
        print("7. Exit")

        choice = input("Choose an option: ")
        
        if choice == '1':
            name = input("Enter contact name: ")
            phone = input("Enter phone number: ")
            email = input("Enter email address: ")
            assistant.add_contact(name, phone, email)
        elif choice == '2':
            name = input("Enter contact name to update: ")
            phone = input("Enter new phone number (leave blank to skip): ")
            email = input("Enter new email address (leave blank to skip): ")
            assistant.update_contact(name, phone if phone else None, email if email else None)
        elif choice == '3':
            name = input("Enter contact name to delete: ")
            assistant.delete_contact(name)
        elif choice == '4':
            assistant.view_contacts()
        elif choice == '5':
            note = input("Enter your note: ")
            assistant.add_note(note)
        elif choice == '6':
            assistant.view_notes()
        elif choice == '7':
            print("Exiting the Personal Assistant.")
            break
        else:
            print("Invalid choice. Please try again.")

if __name__ == '__main__':
    main()
